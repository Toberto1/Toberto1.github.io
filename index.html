<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Membership Management</title>
    <link rel="icon" type="image/x-icon" href="favicon.png" sizes="500x500">

    <link rel="stylesheet" href="css/style.css">

    <script src="./js/lottiePlayer.js"></script>
    <script type="module" src="./js/main.js" defer></script>
</head>

<body>

    <header>
        <br>
        <div class="center">
            <h1>Membership Management (2.0)</h1>
        </div>
        <br>
        <div id="search-container">

            <input type="text" id="searchInput" placeholder="Search by name (Last, First)">
            <button class="action-btn" id="filter-hamburger">&#9776;</button>
            <div id="search-filterButtons">

                <select id="searchMethodSelect" class="custom-select" style="padding: 0.5em;">
                    <option value="name">Search By Name</option>
                    <option value="email">Search By Email</option>
                    <option value="phone_number">Search By Phone</option>
                </select>

                <div></div> <!-- Placeholder for spacing -->

                <div><input type="checkbox" id="open-gym-filter" name="filterCheckboxes" class="filter-checkbox"
                        value="open" />
                    <label for="open-gym-filter" class="checkbox-label checkboxToggle open-color">Open</label>
                </div>

                <div><input type="checkbox" id="classes-filter" name="filterCheckboxes" class="filter-checkbox"
                        value="open" />
                    <label for="classes-filter" class="checkbox-label checkboxToggle class-color">Classes</label>
                </div>

                <div><input type="checkbox" id="athletic-filter" name="filterCheckboxes" class="filter-checkbox"
                        value="open" />
                    <label for="athletic-filter" class="checkbox-label checkboxToggle athletic-color">Athletic</label>
                </div>

                <div></div> <!-- Placeholder for spacing -->

                <div><input type="button" id="clear-search" name="filterCheckboxes" value="open"
                        class="custom-button" />
                    <label for="clear-search" class="checkbox-label">Clear</label>
                </div>

            </div>

        </div>

        <div id="nav-row"></div>
    </header>

    <main>
        <div class="tab-container" id="main-tab-container">

            <button id = "left-tab-arrow" class="arrow left">&#10094;</button>

            <input type="radio" name="tabs" id="tab1" checked>
            <label for="tab1">Search Users</label>

            <div class="spacer"></div>
            <div class="spacer"></div>

            <input type="radio" name="tabs" id="addAccountTabButton">
            <label for="addAccountTabButton">Add Account</label>

            <input type="radio" name="tabs" id="editAccountTabButton">
            <label id="editAccountTabLabel" for="editAccountTabButton" class="hidden temp-color">Editting
                Session</label>

            <div class="spacer"></div>
            <div class="spacer"></div>

            <input type="radio" name="tabs" id="tab4">
            <label for="tab4">Daily Check-ins</label>

            <input type="radio" name="tabs" id="tab3">
            <label for="tab3">Log History</label>

            <input type="radio" name="tabs" id="tab5">
            <label for="tab5" id = "upcomingCheckinsTabButton" class = "temp-color hidden">Upcoming Check-ins</label>

            <button id="right-tab-arrow" class="arrow right">&#10095;</button>
        </div>



        <div id="main-container">

            <div class="center" style="padding-bottom: 0.5em;">
                <h2 id="main-title">Title</h2>
            </div>

            <div id="searchAccount-container" class="tab-content originIsFlex">

                <table id="table-fixed-header">
                    <colgroup>
                        <col style="width: 15%;">
                        <col style="width: 27%;">
                        <col style="width: 20%;">
                        <col style="width: 28%;">
                        <col style="width: 10%;">
                    </colgroup>
                    <thead>
                        <tr>
                            <th id="searchMethodTableHead">Name</th>
                            <th>Memberships</th>
                            <th>Passes</th>
                            <th>Notes</th>
                            <th></th>
                        </tr>
                    </thead>
                </table>

                <!-- This is the scrollable container -->
                <div class="scrollableTable" id="searchResultsTableCon">
                    <div id="searchResults"></div>
                </div>
            </div>


            <div id="addAccount-container" class="account-fieldset tab-content originIsFlex">
                <div id="addAccountNavColumn" class="accountTabSelector-column tab-container">
                    <input type="radio" name="addAccountTabs" id="personalInfoTab-add" checked>
                    <label for="personalInfoTab-add">Personal Information</label>

                    <input type="radio" name="addAccountTabs" id="memberhsipsTab-add">
                    <label for="memberhsipsTab-add">Memberships</label>

                    <input type="radio" name="addAccountTabs" id="passesTab-add">
                    <label for="passesTab-add">Passes</label>

                    <input type="radio" name="addAccountTabs" id="notesTab-add">
                    <label for="notesTab-add">Notes</label>

                    <div></div>
                </div>
            </div>

            <div id="editAccount-container" class="account-fieldset tab-content originIsFlex">
                <div id="noAccountSelected" style="text-align: center; padding: 1rem;">
                    <p style="margin-bottom: 1em; font-size: 1.1rem; font-weight: bold;">No account selected to edit</p>
                    <div class="center"><input type="button" value="Go to Search Tab"
                            class="action-btn center clear-btn go-to-search"></div>

                    <img src="images/noUserIcon.png" alt="No User Selected" style="opacity: 0.1;">
                </div>
                <div id="editAccountNavColumn" class="accountTabSelector-column tab-container">
                    <input type="radio" name="editAccountTabs" id="personalInfoTab-edit" checked>
                    <label for="personalInfoTab-edit">Personal Information</label>

                    <input type="radio" name="editAccountTabs" id="memberhsipsTab-edit">
                    <label for="memberhsipsTab-edit">Memberships</label>

                    <input type="radio" name="editAccountTabs" id="passesTab-edit">
                    <label for="passesTab-edit">Passes</label>

                    <input type="radio" name="editAccountTabs" id="notesTab-edit">
                    <label for="notesTab-edit">Notes</label>

                    <div></div>
                </div>
            </div>

            <div id="dailyCheckin-container" class="tab-content originIsFlex">
                <div id = "dailyCheckin-list" class = "dailyCheckin-list"> </div>
                <div class="date-picker">

                    <div id="dailyCheckin-info"></div>
                    <!-- Hidden but functional input -->
                    <input type="date" id="hiddenDate" style="">

                    <!-- Custom label -->
                    <button id="dateLabel" type="button">Select Date</button>

                    <input type = "button" class = "action-btn clear-btn" value = "Refresh" id = "refresh-daily-checkins">

                </div>

                
            </div>

            <div id="log-container" class="tab-content originIsFlex">

                <div id="log-filter-btn-row">
                    <input type="button" class="action-btn" value="Filter â–¼" id="filter-log-toggle-btn"
                        style="border-bottom-right-radius: 0; border-top-left-radius: 0; border-bottom-left-radius: 0;">
                    <input type="button" class="action-btn go-btn" value="Refresh" onclick="loadLogResults()">

                    <input type="button" class="action-btn cancel-btn hidden" value="Remove Account Filter"
                        id="clearAccountFilterBtn">
                </div>

                <div id="log-filter-row" class="log-filter-row hidden">

                    <div class="filter-group" id="log-filter-startdate-container">
                        <label for="log-start-date">Start Date</label>
                        <input type="date" id="log-start-date">

                        <label for="log-end-date">End Date</label>
                        <input type="date" id="log-end-date">
                    </div>

            

                    <div class="filter-group preset-buttons">
                        <label>Presets</label>
                        <input type="button" class="action-btn" value="Today" onclick="applyPreset('today')">
                        <input type="button" class="action-btn" value="Last 7 Days" onclick="applyPreset('7')">
                        <input type="button" class="action-btn" value="Last 30 Days" onclick="applyPreset('30')">
                    </div>

                    <div class="filter-group">
                        <label for="log-action">Action Type</label>
                        <select id="log-action-type">
                            <option value="ALL">All</option>
                        </select>
                        <label>Limit</label>
                        <input type="number" id="log-row-limit" class="only-numbers" max="100" value="100">
                    </div>
                    <div class="filter-group preset-buttons">
                        
                    </div>

                    <div class="filter-group" id="selectedAccountInfo-container">
                        <label>Apply filters</label>
                        <input type="button" class="action-btn go-btn" value="Apply" onclick="loadLogResults()">
                    </div>

                </div>
                <div id="log-result-text">Showing results from xxx to xxx. (100) results</div>

                <div class="log-list" id="log-list"></div>
            </div>

            <div id="upcomingCheckins-container" class="tab-content originIsFlex">
                <div id="upcomingClassRow" class="upcomingClassRow"></div>

                <div class = "divider-row"><h2>Passes</h2></div>

                <div id = "upcomingCheckinsList" class="upcomingCheckinsList"></div>

                <div id="upcomingCheckinsTable">

                    <div id ="upcoming-checkin-kids-list" class = "upcomingCheckinsList"></div>

                    <div id ="upcoming-checkin-adults-list"></div>

                    <div id ="upcoming-checkin-teens-list"></div>

                </div>
                   
            </div>


        </div>
    </main>

</body>